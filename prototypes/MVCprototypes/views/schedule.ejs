<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <link rel="stylesheet" href="style.css">
  <title>Home Page</title>
</head>

<body>
  <div class="container">
    <header>
      <div>
        <a href="/home">
          <img src="images/logo.png" alt="Your Logo" class="logo">
        </a>

      </div>
      <nav>
        <a href="/home">Home</a>
        <a href="/schedule">Schedule</a>
        <a href="/about">About</a>
        <a href="/contact">Contact</a>
      </nav>
      <form action="/logout" method="get">
      <div class="auth-buttons">
        <p class="input-field">
          <button class="btn btn-primary btn-lg" type="submit" >Log Out</button>
        </p>
      </div>
      </form>

    </header>


  <!-- <h1>Workforce Scheduler</h1> -->

  <h2>Employee Name: <%= username %></h2>

  <div>
    <h3 id="weekStartDate"></h3>
  </div>
  <!-- Employee Availability Form -->


<br>
<br>
<h3>Select Your Availability </h3>
<div class="container">

<div class="row">
  <div class="col">
    <p> Monday</p>
    <form action="/MondayMorning" method = "POST">
      <button type="submit">Monday <br>09:00 - 12:00</button></form>
      <form action="/MondayAfternoon" method = "POST">
        <button type="submit">Monday <br>12:00 - 15:00</button></form>
        <form action="/MondayEvening" method = "POST">
          <button type="submit">Monday <br>15:00 - 18:00</button></form>
  </div>

  <div class="col">
    <p> Tuesday </p>
    <form action="/TuesdayMorning" method = "POST">
      <button type="submit">Tuesday <br>09:00 - 12:00</button></form>
      <form action="/TuesdayAfternoon" method = "POST">
        <button type="submit">Tuesday <br>12:00 - 15:00</button></form>
        <form action="/TuesdayEvening" method = "POST">
          <button type="submit">Tuesday<br> 15:00 - 18:00</button></form>
    </div>

  <div class="col">
    <p> Wednesday </p>
    <form action="/WednesdayMorning" method = "POST">
      <button type="submit">Wednesday<br> 09:00 - 12:00</button></form>
      <form action="/WednesdayAfternoon" method = "POST">
        <button type="submit">Wednesday <br>12:00 - 15:00</button></form>
        <form action="/WednesdayEvening" method = "POST">
          <button type="submit">Wednesday<br> 15:00 - 18:00</button></form>
  </div>
  <div class="col">
    <p> Thursday</p>
    <form action="/ThursdayMorning" method = "POST">
      <button type="submit">Thursday <br>09:00 - 12:00</button></form>
      <form action="/ThursdayAfternoon" method = "POST">
        <button type="submit">Thursday <br>12:00 - 15:00</button></form>
        <form action="/ThursdayEvening" method = "POST">
          <button type="submit">Thursday <br>15:00 - 18:00</button></form>
  </div>

  <div class="col">
   
<p> Friday </p>
<form action="/FridayMorning" method = "POST">
  <button type="submit">Friday <br>09:00 - 12:00</button></form>
  <form action="/FrisdayAfternoon" method = "POST">
    <button type="submit">Friday<br> 12:00 - 15:00</button></form>
    <form action="/FridayEvening" method = "POST">
      <button type="submit">Friday <br>15:00 - 18:00</button></form>
  </div>
</div>
</div>

<!-- Display the heading for the Booked Schedule section -->
<h3>Booked Schedule </h3>

<% if (matrixData && matrixData.length > 0) { %>
 <!-- Create a table to display the booked schedule -->
  <table class="table table-bordered">
    <thead>
      <!-- Table header with days of the week -->
      <tr>
        <th scope="col"></th>
        <th scope="col">Monday</th>
        <th scope="col">Tuesday</th>
        <th scope="col">Wednesday</th>
        <th scope="col">Thursday</th>
        <th scope="col">Friday</th>
      </tr>
    </thead>
    <tbody>
      <!-- Table body row for Morning time slot -->
      <tr> 
        <th scope="row">Morning <br> 9:00 - 12:00</th>
        
        <!--////////////////////////MONDAY MORNING////////////////////////-->
        <td>
          <!-- Iterate through matrixData to display booked schedule for Monday Morning -->
          <% matrixData.forEach(matrix => { %>
            <% matrix.matrix.forEach(timeslot => { %>
              <% if (timeslot[0].day === "MondayMorning") { %>
                <% if (timeslot[0].isBooked) { %>
                  <%= timeslot[0].bookedBy %>
                <% } %>
              <% } %>
            <% }); %>
          <% }); %>
        </td>
        <!--////////////////////////TUESDAY MORNING////////////////////////-->
        <td>
          <!-- Iterate through matrixData to display booked schedule for Tuesday Morning -->
          <% matrixData.forEach(matrix => { %>
            <% matrix.matrix.forEach(timeslot => { %>
              <% if (timeslot[0].day === "TuesdayMorning") { %>
                <% if (timeslot[0].isBooked) { %>
                  <%= timeslot[0].bookedBy %>
                <% } %>
              <% } %>
            <% }); %>
          <% }); %>
        </td>

        <!--////////////////////////WEDNESDAY MORNING////////////////////////-->

        <td>
          <!-- Iterate through matrixData to display booked schedule for Wednesday Morning -->
          <% matrixData.forEach(matrix => { %>
            <% matrix.matrix.forEach(timeslot => { %>
              <% if (timeslot[0].day === "WednesdayMorning") { %>
                <% if (timeslot[0].isBooked) { %>
                  <%= timeslot[0].bookedBy %>
                <% } %>
              <% } %>
            <% }); %>
          <% }); %>
        </td>

        <!--////////////////////////THURSDAY MORNING////////////////////////-->
        <td>
          <!-- Iterate through matrixData to display booked schedule for Thursday Morning -->
          <% matrixData.forEach(matrix => { %>
            <% matrix.matrix.forEach(timeslot => { %>
              <% if (timeslot[0].day === "ThursdayMorning") { %>
                <% if (timeslot[0].isBooked) { %>
                  <%= timeslot[0].bookedBy %>
                <% } %>
              <% } %>
            <% }); %>
          <% }); %>
        </td>


        <!--////////////////////////FRIDAY MORNING////////////////////////-->
        <td>
          <!-- Iterate through matrixData to display booked schedule for Friday Morning -->
          <% matrixData.forEach(matrix => { %>
            <% matrix.matrix.forEach(timeslot => { %>
              <% if (timeslot[0].day === "FridayMorning") { %>
                <% if (timeslot[0].isBooked) { %>
                  <%= timeslot[0].bookedBy %>
                <% } %>
              <% } %>
            <% }); %>
          <% }); %>
        </td>


        <tr>
          <th scope="row">Afternoon <br> 12:00 - 3:00 </th>

         <!--////////////////////////MONDAY AFTERNOON////////////////////////-->
         <td>
          <!-- Iterate through matrixData to display booked schedule for Monday Aftrnoon -->
          <% matrixData.forEach(matrix => { %>
            <% matrix.matrix.forEach(timeslot => { %>
              <% if (timeslot[0].day === "MondayAfternoon") { %>
                <% if (timeslot[0].isBooked) { %>
                  <%= timeslot[0].bookedBy %>
                <% } %>
              <% } %>
            <% }); %>
          <% }); %>
        </td>
         <!--////////////////////////TUESDAY AFTERNOON////////////////////////-->
         <td>
         <!-- Iterate through matrixData to display booked schedule for Tuesday Aftrnoon -->
          <% matrixData.forEach(matrix => { %>
            <% matrix.matrix.forEach(timeslot => { %>
              <% if (timeslot[0].day === "TuesdayAfternoon") { %>
                <% if (timeslot[0].isBooked) { %>
                  <%= timeslot[0].bookedBy %>
                <% } %>
              <% } %>
            <% }); %>
          <% }); %>
        </td>

         <!--////////////////////////WEDNESDAY AFTERNOON////////////////////////-->
         <td>
          <!-- Iterate through matrixData to display booked schedule for Wednesday Aftrnoon -->
          <% matrixData.forEach(matrix => { %>
            <% matrix.matrix.forEach(timeslot => { %>
              <% if (timeslot[0].day === "WednesdayAfternoon") { %>
                <% if (timeslot[0].isBooked) { %>
                  <%= timeslot[0].bookedBy %>
                <% } %>
              <% } %>
            <% }); %>
          <% }); %>
        </td>

         <!--////////////////////////THURSDAY AFTERNOON////////////////////////-->
         <td>
          <!-- Iterate through matrixData to display booked schedule for Thursday Aftrnoon -->
          <% matrixData.forEach(matrix => { %>
            <% matrix.matrix.forEach(timeslot => { %>
              <% if (timeslot[0].day === "ThursdayAfternoon") { %>
                <% if (timeslot[0].isBooked) { %>
                  <%= timeslot[0].bookedBy %>
                <% } %>
              <% } %>
            <% }); %>
          <% }); %>
        </td>

        <!--////////////////////////FRIDAY AFTERNOON////////////////////////-->
        <td>
          <!-- Iterate through matrixData to display booked schedule for Friday Aftrnoon -->
          <% matrixData.forEach(matrix => { %>
            <% matrix.matrix.forEach(timeslot => { %>
              <% if (timeslot[0].day === "FrisdayAfternoon") { %>
                <% if (timeslot[0].isBooked) { %>
                  <%= timeslot[0].bookedBy %>
                <% } %>
              <% } %>
            <% }); %>
          <% }); %>
        </td>
        </tr>

        <tr>
          <th scope="row">Evening <br> 3:00 - 6:00</th>

        <!--////////////////////////MONDAY EVENING////////////////////////-->
        <td>
          <!-- Iterate through matrixData to display booked schedule for Monday Evening -->
          <% matrixData.forEach(matrix => { %>
            <% matrix.matrix.forEach(timeslot => { %>
              <% if (timeslot[0].day === "MondayEvening") { %>
                <% if (timeslot[0].isBooked) { %>
                  <%= timeslot[0].bookedBy %>
                <% } %>
              <% } %>
            <% }); %>
          <% }); %>
        </td>

        <!--////////////////////////TUESDAY EVENING////////////////////////-->
        <td>
          <!-- Iterate through matrixData to display booked schedule for Tuesday Evening -->
          <% matrixData.forEach(matrix => { %>
            <% matrix.matrix.forEach(timeslot => { %>
              <% if (timeslot[0].day === "TuesdayEvening") { %>
                <% if (timeslot[0].isBooked) { %>
                  <%= timeslot[0].bookedBy %>
                <% } %>
              <% } %>
            <% }); %>
          <% }); %>
        </td>
        <!--////////////////////////WEDNESDAY EVENING////////////////////////-->
        <td>
          <!-- Iterate through matrixData to display booked schedule for Wednesday Evening -->
          <% matrixData.forEach(matrix => { %>
            <% matrix.matrix.forEach(timeslot => { %>
              <% if (timeslot[0].day === "WednesdayEvening") { %>
                <% if (timeslot[0].isBooked) { %>
                  <%= timeslot[0].bookedBy %>
                <% } %>
              <% } %>
            <% }); %>
          <% }); %>
        </td>
        <!--////////////////////////THURSDAY EVENING////////////////////////-->
        <td>
          <!-- Iterate through matrixData to display booked schedule for Thursday Evening -->
          <% matrixData.forEach(matrix => { %>
            <% matrix.matrix.forEach(timeslot => { %>
              <% if (timeslot[0].day === "ThursdayEvening") { %>
                <% if (timeslot[0].isBooked) { %>
                  <%= timeslot[0].bookedBy %>
                <% } %>
              <% } %>
            <% }); %>
          <% }); %>
        </td>
         <!--////////////////////////FRIDAY EVENING////////////////////////-->
         <td>
          <!-- Iterate through matrixData to display booked schedule for Friday Evening -->
          <% matrixData.forEach(matrix => { %>
            <% matrix.matrix.forEach(timeslot => { %>
              <% if (timeslot[0].day === "FridayEvening") { %>
                <% if (timeslot[0].isBooked) { %>
                  <%= timeslot[0].bookedBy %>
                <% } %>
              <% } %>
            <% }); %>
          <% }); %>
        </td>
        </tr>
    </tbody>
  </table>
<% } %>

<br>
<br>



                              


  <!-- Include Bootstrap JavaScript library from a CDN -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
crossorigin="anonymous"> </script>
<!-- JavaScript script block for dynamic date calculation -->
<script>
  // Get the current date
  const currentDate = new Date();
  // Calculate the date of the nearest Sunday from the current date
  const sundayDate = new Date(currentDate);
  sundayDate.setDate(currentDate.getDate() - currentDate.getDay());

  // Format the Sunday date as MM-DD-YYYY
  const formattedSundayDate = `${sundayDate.getMonth() + 1}-${sundayDate.getDate()}-${sundayDate.getFullYear()}`;
  // Display the formatted Sunday date in the HTML element with the id 'weekStartDate'
  document.getElementById('weekStartDate').textContent = `Today is a week of ${formattedSundayDate}`;
</script>

</body>
</html>
